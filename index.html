<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Using Fabric.js for Interactive HTML5 Canvas Applications</title>

		<meta name="description" content="Slide deck for Boise Code Camp 2014">
		<meta name="author" content="Kelly Packer">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">
		<link rel="stylesheet" href="css/overrides.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Using Fabric.js </h1>
					<h3>for Interactive HTML5 Canvas Applications</h3>
					<p>
						<a href="http://www.kellypacker.com">Kelly Packer</a> / <a href="http://twitter.com/kellypacker">@kellypacker</a>
					</p>
				</section>

				<section>
					<h2>Hello</h2>
					<p>
						Front-End Web Developer at
					</p>
					<img class="no-border" src="../images/csbox-logo.png" />

					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<section>
					<h2>For the past 2 years</h2>
					<p>
						Building an educational application for Pearson ERPI in Canada.
					</p>
						<img src="../images/erpi-workbooks.jpg" width="250" style="float: left; border: none;margin-right: 10px" />
						<img src="../images/erpi-classroom.jpg" width="700" style="float: left; border: none;" />
				</section>

				<section>
					<h2>Overview</h2>
					<ul>
						<li>Demo</li>
						<li>What is Canvas</li>
						<li>What is Fabric.js</li>
						<li>Advantages of Fabric.js</li>
					</ul>
				</section>

				<section>
					<h2>Demo</h2>
					<p>
						<a href="http://erpi.dev/alphabetik/">http://erpi.dev/alphabetik/</a>
					</p>
				</section>

				<section>
					<h2>Native Canvas</h2>
					<blockquote style="padding: 40px;" cite="http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#the-canvas-element">
						The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly.
					</blockquote>
					<br/>
					<p>Canvas is a rectangle on the page where you can use Javascript to draw stuff.</p>
				</section>

				<section>
					<h2>Canvas Experiment</h2>
					<a href="http://andrew-hoyer.com/experiments/cloth/">http://andrew-hoyer.com/experiments/cloth/</a>
					<iframe id="cloth" src="http://andrew-hoyer.com/experiments/cloth/" width="1000" height="600" style="margin:0;overflow:hidden;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px"> </iframe>
				</section>

				<section>
					<h2>Canvas Charts: chartjs.org</h2>
					<a href="http://www.chartjs.org/">http://www.chartjs.org/</a>
					<iframe id="charts" src="http://www.chartjs.org/" width="1000" height="600" style="margin:0;overflow:hidden;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px"> </iframe>
				</section>

				<section>
					<h2>Canvas Graphics Example</h2>
					<a href="http://hakim.se/experiments/html5/404/netmag.html">http://hakim.se/experiments/html5/404/netmag.html</a>
					<iframe id="visuals" src="http://hakim.se/experiments/html5/404/netmag.html" width="1000" height="600" style="margin:0;overflow:hidden;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px"> </iframe>
				</section>

				<section>
					<h2>Bitmap <small>vs.</small> Vector</h2>
					<img src="../images/bitmap-vs-vector.png" />
				</section>

				<section>
					<h2>Canvas API</h2>
					<h3>Sample attributes & methods</h3>
					<ul>
						<li>strokeStyle</li>
						<li>fillStyle</li>

						<li>fillRect(x, y, width, height)</li>
						<li>strokeRect(x, y, width, height)</li>
						<li>clearRect(x, y, width, height)</li>
						<li>beginPath()</li>
						<li>closePath()</li>
						<li>lineTo(x,y)</li>
						<li>moveTo(x,y)</li>

						<li>save()</li>
						<li>restore()</li>
					</ul>
				</section>
	 			<section>
	 				<h2>Just the canvas</h2>
	 				<h3>HTML</h3>
<pre><code data-trim contenteditable wrap class="big-code">
<canvas id="myCanvas" width="300" height="200"
style="border:1px solid black; background-color: orange;"></canvas>
</code></pre>
					<img class="no-border" src="/images/simplest-canvas-1.png" width="" alt="">
				</section>	 			<section>
	 				<h2>Simplest canvas example</h2>
	 				<h3>HTML</h3>
<pre><code data-trim contenteditable wrap class="big-code">
<canvas id="myCanvas" width="300" height="200"
style="border:1px solid black; background-color: orange;"></canvas>
</code></pre>
<h3>JS</h3>
<pre><code data-trim contenteditable class="big-code">
var myCanvas = document.getElementById("myCanvas");
var ctx = myCanvas.getContext("2d");
// (x, y, width, height)
ctx.fillRect(20, 30, 150, 75);
</code></pre>
					<img class="no-border" src="/images/simplest-canvas.png" width="" alt="">
				</section>

	 			<section>
	 				<h2>Native Canvas</h2>
	 				<h3>Simple Rectangle</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/27/embed?html,js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Native Canvas</h2>
	 				<h3>Save state, rotate, restore</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/28/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Native Canvas</h2>
	 				<h3>Clear rectangle</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/30/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Native Canvas</h2>
	 				<h3>Circle</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/29/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Native Canvas</h2>
	 				<h3>Line</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/31/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Native Canvas</h2>
	 				<h3>Text</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/33/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Native Canvas</h2>
	 				<h3>Image</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/9/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>

				<section>
					<h2>Fabric.js</h2>
					<p>Fabric.js is a powerful and simple Javascript HTML5 canvas library.</p>
					<p>Fabric provides interactive object model on top of canvas element.</p>
				</section>

	 			<section>
	 				<h2>Simplest fabric.js example</h2>
	 				<h3>Add fabric script in HTML</h3>
<pre><code data-trim contenteditable wrap class="big-code">
<script src="js/fabric.min.js"></script>
</code></pre>
<h3>HTML</h3>
<pre><code data-trim contenteditable wrap class="big-code">
<canvas id="myCanvas" width="300" height="200"
style="border:1px solid black;"></canvas>
</code></pre>
<h3>JS</h3>
<pre><code data-trim contenteditable class="big-code">
var canvas = new fabric.Element("myCanvas");
var rect = new fabric.Rect({
  top: 100,
  left: 10,
  fill: "red",
  width: 180,
  height: 100
});
canvas.add(rect);
</code></pre>
				</section>
				<section>
	 				<h2>Fabric.js</h2>
	 				<h3>Simple Rectangle</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/13/embed?html,js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
					<h2>Fabric creates 2 canvases</h2>
					<h3>Initial HTML</h3>
<pre><code data-trim contenteditable class="big-code">
<canvas id="myCanvas" width="300" height="200"></canvas>
</code></pre>
					<h3>Becomes 2 absolutely-positioned, overlaying canvases</h3>
<pre><code data-trim contenteditable class="big-code" style="font-size: 18px;">
<div class="canvas-container">
  <!-- Group selection -->
  <canvas id="myCanvas" width="250" height="300" class="lower-canvas"></canvas>
  <!-- Rendering -->
  <canvas class="upper-canvas" width="250" height="300"></canvas>
</div>
</code></pre>
					<p>This keeps group selection fast no matter how many objects are currently rendered on canvas.</p>

				</section>

				<section>
	 				<h2>Fabric.js</h2>
	 				<h3>Simple Rectangle - Rotated</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/18/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Fabric.js</h2>
	 				<h3>Simple Rectangle - Removed</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/19/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Fabric.js</h2>
	 				<h3>Shapes</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/39/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Fabric.js</h2>
	 				<h3>Custom Shapes, Lines</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/21/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Fabric.js</h2>
					<h3>SVG Parsing</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/38/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Fabric.js</h2>
	 				<h3>Text</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/37/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
	 				<h2>Fabric.js</h2>
	 				<h3>Image</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/36/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
				<section>
					<h2>Canvas Profiler</h2>
					<img src="/images/diff.gif" alt="" class="no-border" />
				</section>

				<section>
					<h2>Prototypal Inheritence</h2>
					<h3>fabric.object</h3>
					<ul>
						<li>fabric.Line</li>
						<li>fabric.Circle</li>
						<li>fabric.Rect</li>
						<li>fabric.Group</li>
						<li>fabric.Text</li>
						<li>fabric.Ellipse</li>
						<li>fabric.Image</li>
						<li>fabric.Polyline</li>
						<li>fabric.Polygon</li>
						<li>fabric.Path</li>
					</ul>
				</section>

				<section>
					<h3>Properties</h3>
					<ul>
						<li>angle</li>
						<li>fill</li>
						<li>hasControls</li>
						<li>lockRotation</li>
						<li>opactiy</li>
					</ul>
					<h3 style="margin-top: 30px;">Methods</h3>
					<ul>
						<li>.bringToFront()</li>
						<li>.clone()</li>
						<li>.getBoundingRect()</li>
						<li>.getStroke()</li>
						<li>.moveTo()</li>

					</ul>
				</section>

	 			<section>
	 				<h3>Getters</h3>
<pre><code data-trim contenteditable wrap class="big-code">
rect.getWidth();

rect.getLeft();
rect.getTop();

rect.getFill(); // rgb(0,0,0)
rect.getStroke();

rect.getOpacity(); // 1
</code></pre>
<h3>Setters</h3>
<pre><code data-trim contenteditable wrap class="big-code">
var rect = new fabric.Rect();
rect.set({ width: 10, height: 20, fill: '#f55', opacity: 0.7 });
</code></pre>
				</section>

	 			<section>
	 				<h3>Animation</h3>
<a class="jsbin-embed" href="http://localhost:3000/tid/35/embed?js,output&height=500px">JS Bin</a><script src="http://localhost:3000/js/embed.js"></script>
				</section>
	 			<section>
	 				<h2>Groups</h2>
<pre><code data-trim contenteditable wrap class="big-code">
var text = new fabric.Text('hello world', {
  fontSize: 30
});
var circle = new fabric.Circle({
  radius: 100,
  fill: '#eef',
  scaleY: 0.5
});
var group = new fabric.Group([ text, circle ], {
  left: 150,
  top: 100,
  angle: -10
});
canvas.add(group);
</code></pre>
				</section>
				<section>
					<h2>Events</h2>
<pre><code data-trim contenteditable wrap class="big-code">
canvas.on('object:moving', function(e) {
  var activeObj = e.target;
  console.log(activeObj.get('left'), activeObj.get('top'));
});

// attach an event to an object
rect.on("mousedown", closeTool);

</code></pre>
				</section>
				<section>
					<h2>Subclassing</h2>
<pre><code data-trim contenteditable wrap class="big-code">
var LabeledRect = fabric.util.createClass(fabric.Rect, {

  type: 'labeledRect',

  initialize: function(options) {
    options || (options = { });

    this.callSuper('initialize', options);
    this.set('label', options.label || '');
  },

  toObject: function() {
    return fabric.util.object.extend(this.callSuper('toObject'), {
      label: this.get('label')
    });
  },

  _render: function(ctx) {
    this.callSuper('_render', ctx);

    ctx.font = '20px Helvetica';
    ctx.fillStyle = '#333';
    ctx.fillText(this.label, -this.width/2, -this.height/2 + 20);
  }
});
</code></pre>
				</section>
				<section>
					<h2>Other awesomeness</h2>
					<img src="images/patrick.gif" alt="" />
				</section>
				<section>
					<h2>Fast</h2>
					<p>Benchmarks<br />150 random objects: <br/>Initialization: 151ms Rendering: 79ms Total time: 230ms</p>
					<p><code style="font-size: 30px;">canvas.renderOnAddRemove = false</code></p>
					<img src="images/fast.gif" alt="">
				</section>
				<section>
					<h2>Test-Driven</h2>
					<p>2400+ tests</p>
					<p>Unit, functional, import/export</p>
					<img src="images/tested.gif" alt="">
				</section>
				<section>
					<h2>Browser Support</h2>
					<ul>
						<li>Firefox 2+</li>
						<li>Safari 3+</li>
						<li>Opera 9.64+</li>
						<li>Chrome (all versions should work)</li>
						<li>IE9, IE10, IE11</li>
					</ul>
					<br /><br />
					<p><em>If you are brave, there is some IE<9 support with excanvas</em></p>
					<img src="images/support.gif" alt="">
				</section>
				<section>
					<h2>In development</h2>
					<ul>
						<li>Currently in development, new features all the time</li>
						<li>Great docs</li>
						<li>responsive community (Google Group)</li>
					</ul>
					<img src="images/help.gif" alt="">
				</section>
				<section>
					<h2>Save/Restore 3.0</h2>
					<p>Canvas can be serialized to JSON or SVG and restored</p>
					<img src="images/saved.gif" alt="">
				</section>
				<section>
					<h2>Modular</h2>
					<h3>(60 small classes, modules, mixins)</h3>
					<p><code style="font-size: 30px;">node build.js modules=text,serialization,parser</code></p>
					<img src="images/small.gif" />
				</section>
				<section>
					<p><a href="https://www.youtube.com/watch?v=lMtjczxTSjU">https://www.youtube.com/watch?v=lMtjczxTSjU</a></p>
					<iframe width="1280" height="720" src="//www.youtube.com/embed/lMtjczxTSjU" frameborder="0" allowfullscreen></iframe>
				</section>
				<section>
					<h2>Thanks</h2>
					<h3>Kelly Packer / <a href="https://twitter.com/kellypacker">@kellypacker</a></h3>
					<h3>References</h3>
					<ul>
						<li>4 part tutorial: <a href="http://fabricjs.com/articles/">http://fabricjs.com/articles/</a></li>
						<li>Docs: <a href="http://fabricjs.com/docs/">http://fabricjs.com/docs/</a></li>
						<li>Demos: <a href="http://fabricjs.com/demos/">http://fabricjs.com/demos/</a></li>
						<li>Introduction to Canvas: <a href="http://diveintohtml5.info/canvas.html">http://diveintohtml5.info/canvas.html</a></li>
						<li>Canvas Inspection using Chrome DevTools <a href="http://www.html5rocks.com/en/tutorials/canvas/inspection/">http://www.html5rocks.com/en/tutorials/canvas/inspection/</a></li>
					</ul>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
